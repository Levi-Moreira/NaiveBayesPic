<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>NaiveBayes for PIC: C:/Users/TARDIS/Desktop/Naive/support.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NaiveBayes for PIC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('support_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">C:/Users/TARDIS/Desktop/Naive/support.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains functions that execute predictions, test accuracy etc on the knowledge (summaries) with the test data set. It also contains all functions related to outputting the data to the user.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="support_8h_source.html">support.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;plib/usart.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb68e2233cb7c72fcb04623a0b297bc9"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#acb68e2233cb7c72fcb04623a0b297bc9">calculateProbability</a> (float x, float mean, float stdev)</td></tr>
<tr class="memdesc:acb68e2233cb7c72fcb04623a0b297bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the log (natural log) probability of a given number belonging to a distribution based on the gaussian:  <a href="#acb68e2233cb7c72fcb04623a0b297bc9">More...</a><br /></td></tr>
<tr class="separator:acb68e2233cb7c72fcb04623a0b297bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b583bd2b3069f875205847188f48c97"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a9b583bd2b3069f875205847188f48c97">calculateClassProbability</a> (int classNumber, float *inputVector)</td></tr>
<tr class="memdesc:a9b583bd2b3069f875205847188f48c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total probability of a certain class based on single probabilities yielded by each feature. THe function will calculate the probability of each feature(column) from the input vector and add them together.  <a href="#a9b583bd2b3069f875205847188f48c97">More...</a><br /></td></tr>
<tr class="separator:a9b583bd2b3069f875205847188f48c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4317c0c8596c2a1cc402ec29a532f511"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a4317c0c8596c2a1cc402ec29a532f511">predict</a> (float *inputVector)</td></tr>
<tr class="memdesc:a4317c0c8596c2a1cc402ec29a532f511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicts to which class the input vector belongs.  <a href="#a4317c0c8596c2a1cc402ec29a532f511">More...</a><br /></td></tr>
<tr class="separator:a4317c0c8596c2a1cc402ec29a532f511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5837417003623949907468dda45121d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a5837417003623949907468dda45121d1">calculateMetrics</a> ()</td></tr>
<tr class="memdesc:a5837417003623949907468dda45121d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills in the values in the confusion matrix.  <a href="#a5837417003623949907468dda45121d1">More...</a><br /></td></tr>
<tr class="separator:a5837417003623949907468dda45121d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bd6a37a6eccee16c32eefe662203a6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a06bd6a37a6eccee16c32eefe662203a6">getAccuracy</a> ()</td></tr>
<tr class="memdesc:a06bd6a37a6eccee16c32eefe662203a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs over the confusion matriz and calculates the accuracy of the model. The accuracy of the model is the percntage of correct guesses it made, this is derived from the confusion matriz by simply adding up the numbers in the main diagonal and deviding by the total amount of elements in the matrix.  <a href="#a06bd6a37a6eccee16c32eefe662203a6">More...</a><br /></td></tr>
<tr class="separator:a06bd6a37a6eccee16c32eefe662203a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a2387bb624f469338d6101949762b6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#ae9a2387bb624f469338d6101949762b6">getRecall</a> (int class)</td></tr>
<tr class="memdesc:ae9a2387bb624f469338d6101949762b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyzes the Confusion Matrix outputed by the model and calculates the recall.  <a href="#ae9a2387bb624f469338d6101949762b6">More...</a><br /></td></tr>
<tr class="separator:ae9a2387bb624f469338d6101949762b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998633b2cfc33a7e4781780b4dfe11df"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a998633b2cfc33a7e4781780b4dfe11df">getPrecision</a> (int class)</td></tr>
<tr class="memdesc:a998633b2cfc33a7e4781780b4dfe11df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyzes the Confusion Matrix outputed by the model and calculates the precision.  <a href="#a998633b2cfc33a7e4781780b4dfe11df">More...</a><br /></td></tr>
<tr class="separator:a998633b2cfc33a7e4781780b4dfe11df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4502522a0779e80eff1f673c7579406c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a4502522a0779e80eff1f673c7579406c">showOff</a> (int testLine)</td></tr>
<tr class="memdesc:a4502522a0779e80eff1f673c7579406c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows off the skill of the classifier by predicting the class of a certain entry.  <a href="#a4502522a0779e80eff1f673c7579406c">More...</a><br /></td></tr>
<tr class="separator:a4502522a0779e80eff1f673c7579406c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2106ab4dbc58ea4ebe526ec9a27cf464"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a2106ab4dbc58ea4ebe526ec9a27cf464">printTestLine</a> (int line)</td></tr>
<tr class="memdesc:a2106ab4dbc58ea4ebe526ec9a27cf464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a given line from the test set.  <a href="#a2106ab4dbc58ea4ebe526ec9a27cf464">More...</a><br /></td></tr>
<tr class="separator:a2106ab4dbc58ea4ebe526ec9a27cf464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f763f10a5badda20d41ae22baf675c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a55f763f10a5badda20d41ae22baf675c">printMetrics</a> ()</td></tr>
<tr class="memdesc:a55f763f10a5badda20d41ae22baf675c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out the metrics (Recall, Precision and Accuracy for the model).  <a href="#a55f763f10a5badda20d41ae22baf675c">More...</a><br /></td></tr>
<tr class="separator:a55f763f10a5badda20d41ae22baf675c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3580193508faf8dc98261b8680e5935c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3580193508faf8dc98261b8680e5935c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a3580193508faf8dc98261b8680e5935c">printConfusionMatrix</a> ()</td></tr>
<tr class="memdesc:a3580193508faf8dc98261b8680e5935c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the confusion matrix of the model. <br /></td></tr>
<tr class="separator:a3580193508faf8dc98261b8680e5935c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d7ae660f3e6fc3797faa9750859f9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a13d7ae660f3e6fc3797faa9750859f9c">putch</a> (unsigned char data)</td></tr>
<tr class="memdesc:a13d7ae660f3e6fc3797faa9750859f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Effectively prints out a byte in the USART interface.  <a href="#a13d7ae660f3e6fc3797faa9750859f9c">More...</a><br /></td></tr>
<tr class="separator:a13d7ae660f3e6fc3797faa9750859f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b3df0fa68526d64c732d5f916e34b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#ac7b3df0fa68526d64c732d5f916e34b1">init_uart</a> (void)</td></tr>
<tr class="memdesc:ac7b3df0fa68526d64c732d5f916e34b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initilizes the usart interface.  <a href="#ac7b3df0fa68526d64c732d5f916e34b1">More...</a><br /></td></tr>
<tr class="separator:ac7b3df0fa68526d64c732d5f916e34b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15cf82f0329bc4d7262c03559eaaa8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#ab15cf82f0329bc4d7262c03559eaaa8e">init_adc</a> (void)</td></tr>
<tr class="memdesc:ab15cf82f0329bc4d7262c03559eaaa8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts up the adc for capturing a reading from a pin.  <a href="#ab15cf82f0329bc4d7262c03559eaaa8e">More...</a><br /></td></tr>
<tr class="separator:ab15cf82f0329bc4d7262c03559eaaa8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3f253d01b3272eff42ef9674d5c301"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a1a3f253d01b3272eff42ef9674d5c301">ADCRead</a> (unsigned char ch)</td></tr>
<tr class="memdesc:a1a3f253d01b3272eff42ef9674d5c301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the data from a certain ADC chanel.  <a href="#a1a3f253d01b3272eff42ef9674d5c301">More...</a><br /></td></tr>
<tr class="separator:a1a3f253d01b3272eff42ef9674d5c301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157142c058d0667e0eee4b7f467200fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="support_8c.html#a157142c058d0667e0eee4b7f467200fa">randomNumber</a> ()</td></tr>
<tr class="memdesc:a157142c058d0667e0eee4b7f467200fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the ADC to select a random numer to be used as selector of a test line.  <a href="#a157142c058d0667e0eee4b7f467200fa">More...</a><br /></td></tr>
<tr class="separator:a157142c058d0667e0eee4b7f467200fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains functions that execute predictions, test accuracy etc on the knowledge (summaries) with the test data set. It also contains all functions related to outputting the data to the user. </p>
<dl class="section author"><dt>Author</dt><dd>Alan Jeferson and Levi Moreira </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>23-September-2016 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2016 Alan and Levi Enterprises. All rights reserved.</dd></dl>
<p>This file is part of NaiveBayes for PIC. NaiveBayes for PIC is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>NaiveBayes for PIC is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with Foobar. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.} </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1a3f253d01b3272eff42ef9674d5c301"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ADCRead </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the data from a certain ADC chanel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>The channel fromwhich to read the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The data read from the channel, a integer number from 0 to 1023 </dd></dl>

</div>
</div>
<a class="anchor" id="a9b583bd2b3069f875205847188f48c97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float calculateClassProbability </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>classNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>inputVector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the total probability of a certain class based on single probabilities yielded by each feature. THe function will calculate the probability of each feature(column) from the input vector and add them together. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int</td><td>classNumber The class to be considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the cumulative probability of that class </dd></dl>

</div>
</div>
<a class="anchor" id="a5837417003623949907468dda45121d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calculateMetrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills in the values in the confusion matrix. </p>
<dl class="section note"><dt>Note</dt><dd>The size of the Confusion Matrix is determined by the number of possible classes. A confusion matrix for a 2 class model is: Predicted Class 0 Predicted Class 1 Entry is of Class 0 True positives False Negatives Entry is of Class 1 False positives True Negatives The function will run over each entry of the testSet(row) and yeild the result of the prediction, it will then fill the confusion matrix with the result of the prediction </dd></dl>

</div>
</div>
<a class="anchor" id="acb68e2233cb7c72fcb04623a0b297bc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float calculateProbability </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>stdev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the log (natural log) probability of a given number belonging to a distribution based on the gaussian: </p>
<dl class="section note"><dt>Note</dt><dd>p = 1/(sqrt(2*PI*stdev)) * e^-(((x- mean)^2)/(2*(stdev^2))) Where stdev is the standard deviation of the column and class to which x belongs to. Where mean is the mean of the column and class to which x belongs to. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">float</td><td>x The input value to be evaluated by the formula. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">float</td><td>mean The mean value of the column and class to which x belongs to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">float</td><td>stdev The standard deviation of the column and class to which x belongs to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The likelihood (in log probability domain) of x belonging to the distribution represented by mean and stdev. </dd></dl>

</div>
</div>
<a class="anchor" id="a06bd6a37a6eccee16c32eefe662203a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getAccuracy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs over the confusion matriz and calculates the accuracy of the model. The accuracy of the model is the percntage of correct guesses it made, this is derived from the confusion matriz by simply adding up the numbers in the main diagonal and deviding by the total amount of elements in the matrix. </p>
<dl class="section return"><dt>Returns</dt><dd>The percentage of right predictions on the test set. </dd></dl>

</div>
</div>
<a class="anchor" id="a998633b2cfc33a7e4781780b4dfe11df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getPrecision </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>class</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analyzes the Confusion Matrix outputed by the model and calculates the precision. </p>
<dl class="section note"><dt>Note</dt><dd>The precision reveals the capability of the model to correclty predict a class in the cases in which a data entry doesn't belong to that class. Can the model identify when an instance does NOT belong to a class? </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The true negatives over the sum of true negatives and false positives. For a multiclass problem the precision of a class i will be M[i][i]/sumof elements of column i. M is the confusion matrix for the model. </dd></dl>

</div>
</div>
<a class="anchor" id="ae9a2387bb624f469338d6101949762b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getRecall </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>class</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analyzes the Confusion Matrix outputed by the model and calculates the recall. </p>
<dl class="section note"><dt>Note</dt><dd>The recall, or sensibility reveals the capability of the model to correclty predict a class in the cases in which a data entry belongs to that class. Can the model identify when an instance belongs to a class? </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The true positives over the sum of true positves and false negatives. For a multiclass problem the recall of a class i will be M[i][i]/sum of elements of line i. M is the confusion matrix for the model. </dd></dl>

</div>
</div>
<a class="anchor" id="ab15cf82f0329bc4d7262c03559eaaa8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_adc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts up the adc for capturing a reading from a pin. </p>
<p>bit7 - Result is right justified bit6 - Not implemented bit5-3 -2TAD is enough time with a 20MHZ cristal bit 2-0 - FOSC is devided by 16</p>

</div>
</div>
<a class="anchor" id="ac7b3df0fa68526d64c732d5f916e34b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_uart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initilizes the usart interface. </p>
<dl class="section note"><dt>Note</dt><dd>The usart interface is needed for the outputting of the system results. Hence the need of this function. </dd></dl>
<p>COnfigures the USART communication USART_TX_INT_OFF - Transmit interrupt is turned off USART_RX_INT_OFF - Receive interrupt is turned off USART_ASYNCH_MODE - USART is in asinc mode USART_EIGHT_BIT - Data has 8 bit USART_BRGH_HIGH - Will use high baud rate</p>
<p>X = ((FOSC/Desired Baud Rate)/16) ? 1 The desired baud rate is 9600, FOSC is 20000000 therefore the number is 129</p>

</div>
</div>
<a class="anchor" id="a4317c0c8596c2a1cc402ec29a532f511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int predict </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>inputVector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicts to which class the input vector belongs. </p>
<dl class="section note"><dt>Note</dt><dd>Basically, runs over the probabilities for each class and returns the highest one.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">float*</td><td>inputVector The pointer to the vector to predict the class. The input vector must me a set of values with the (COLUMNS - 1) columns. It is a set of attributes for the algorithm to predict based on the knowledge it has calculated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The predicted class to which the input vector belongs. </dd></dl>

</div>
</div>
<a class="anchor" id="a55f763f10a5badda20d41ae22baf675c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printMetrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print out the metrics (Recall, Precision and Accuracy for the model). </p>
<dl class="section note"><dt>Note</dt><dd>Please note that the Recall and Precision are printed by class and the Accuracy is for the whole model. </dd></dl>

</div>
</div>
<a class="anchor" id="a2106ab4dbc58ea4ebe526ec9a27cf464"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printTestLine </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a given line from the test set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>line index to be printed. Normally randomonly picked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a13d7ae660f3e6fc3797faa9750859f9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void putch </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Effectively prints out a byte in the USART interface. </p>
<dl class="section note"><dt>Note</dt><dd>To make the printf function works by printing in the USART interface this function needed to be implemented, this funtions normally prints out the result in the screen. Note that in this case it will use the TXREG to output the data therefore printing out in the USART interface. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a157142c058d0667e0eee4b7f467200fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int randomNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses the ADC to select a random numer to be used as selector of a test line. </p>
<dl class="section note"><dt>Note</dt><dd>It will collect 100 readings and take the avarage of them. It will then remove the floating point part of the number, normalize it and use as random number. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A random number generated by the adc in the range 0-TestLines </dd></dl>

</div>
</div>
<a class="anchor" id="a4502522a0779e80eff1f673c7579406c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void showOff </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>testLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shows off the skill of the classifier by predicting the class of a certain entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">testLine</td><td>The line of the test set to be predicted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="support_8c.html">support.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
